# Shadowrocket: 2025-08-11 21:58:59
# chatgpt ä¿®æ”¹ç‰ˆæœ¬ æ—©ä¸Šçœ‹çœ‹ä¹‹åçš„ç‰ˆæœ¬ï¼Œæ”¹å®Œæ²¡ååº”å•Š     
# æ€ä¹ˆåŠå‘¢ ä¸åŒæ­¥å‘€
# ä¸ºå•¥æ”¹äº†æ²¡ååº”å•Šå¤§å“¥
#æ–°ç‰ˆantiæµ‹è¯•

[General]
bypass-system = true
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32

# DNS
dns-server = 119.29.29.29,114.114.114.114,223.5.5.5,8.8.8.8,1.1.1.1,system
fallback-dns-server = 8.8.8.8,1.1.1.1,system

# IPv6
ipv6 = false
prefer-ipv6 = false

# DNS behavior
dns-fallback-system = false
dns-direct-system = false
private-ip-answer = false

# Connectivity
icmp-auto-reply = true
always-reject-url-rewrite = false

[Proxy Group]
# â€”â€” Main â€”â€”
ğŸš€ Strategy-Select = select, â™»ï¸ ALL, ğŸŒ Global-Direct, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡·ğŸ‡º Russia, ğŸ‡®ğŸ‡³ India, ğŸ‡©ğŸ‡ª Germany, ğŸ‡¨ğŸ‡¦ Canada, ğŸ‡¹ğŸ‡· Turkey

# Autotest
â™»ï¸ ALL = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=.*

# Ad/Privacy
ğŸ›‘ Ad-Block = select, REJECT, ğŸŒ Global-Direct

# App-specific
AI = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡©ğŸ‡ª Germany, ğŸ‡¨ğŸ‡¦ Canada, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan
Telegram = select, ğŸš€ Strategy-Select, ğŸ‡­ğŸ‡° HongKong, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡¹ğŸ‡· Turkey, ğŸ‡®ğŸ‡³ India, ğŸ‡·ğŸ‡º Russia
Twitter = select, ğŸš€ Strategy-Select, ğŸ‡­ğŸ‡° HongKong, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡¹ğŸ‡· Turkey, ğŸ‡®ğŸ‡³ India, ğŸ‡·ğŸ‡º Russia, policy-select-name=ğŸ‡­ğŸ‡° HongKong
Facebook = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¬ğŸ‡§ UnitedKingdom
Reddit = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡¨ğŸ‡¦ Canada, ğŸ‡¯ğŸ‡µ Japan
Discord = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan
Weibo = select, ğŸŒ Global-Direct, ğŸš€ Strategy-Select

# Media (restored fine-grained groups)
YouTube = select, ğŸš€ Strategy-Select, ğŸ‡­ğŸ‡° HongKong, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡¹ğŸ‡· Turkey, ğŸ‡®ğŸ‡³ India, ğŸ‡·ğŸ‡º Russia
Netflix = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¯ğŸ‡µ Japan
DisneyPlus = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¯ğŸ‡µ Japan
Spotify = select, ğŸš€ Strategy-Select, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡©ğŸ‡ª Germany
Foreign-Media = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan
China-Media = select, ğŸŒ Global-Direct, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¨ğŸ‡³ Taiwan

# Enterprise
Microsoft = select, ğŸŒ Global-Direct, ğŸš€ Strategy-Select, ğŸ‡­ğŸ‡° HongKong, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡¹ğŸ‡· Turkey, ğŸ‡®ğŸ‡³ India, ğŸ‡·ğŸ‡º Russia
Apple = select, ğŸŒ Global-Direct, ğŸš€ Strategy-Select, ğŸ‡­ğŸ‡° HongKong, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡¹ğŸ‡· Turkey, ğŸ‡®ğŸ‡³ India, ğŸ‡·ğŸ‡º Russia
PayPal = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¨ğŸ‡¦ Canada

# Gaming
Game = select, ğŸŒ Global-Direct, ğŸš€ Strategy-Select, ğŸ‡­ğŸ‡° HongKong, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡°ğŸ‡· Korea, ğŸ‡¹ğŸ‡· Turkey, ğŸ‡®ğŸ‡³ India, ğŸ‡·ğŸ‡º Russia

# Cloud drives
Cloud-Drive = select, ğŸŒ Global-Direct, ğŸš€ Strategy-Select

# Google (new)
Google = select, ğŸš€ Strategy-Select, ğŸ‡ºğŸ‡¸ UnitedStates, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¨ğŸ‡³ Taiwan, ğŸ‡¬ğŸ‡§ UnitedKingdom, ğŸ‡©ğŸ‡ª Germany, ğŸ‡¨ğŸ‡¦ Canada

# Regions (flags + English)
ğŸ‡­ğŸ‡° HongKong = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=æ¸¯|HK|Hong\s*Kong
ğŸ‡¨ğŸ‡³ Taiwan = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=å°|TW|Taiwan|å°ç£
ğŸ‡¯ğŸ‡µ Japan = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=æ—¥æœ¬|JP|Japan|ä¸œäº¬|å¤§é˜ª|åŸ¼ç‰|åå¤å±‹
ğŸ‡¸ğŸ‡¬ Singapore = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=æ–°åŠ å¡|ç‹®åŸ|SG|Singapore
ğŸ‡ºğŸ‡¸ UnitedStates = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=ç¾å›½|US|United\s*States|æ´›æ‰çŸ¶|ç¡…è°·|åœ£ä½•å¡|è¥¿é›…å›¾|è¾¾æ‹‰æ–¯|çº½çº¦
ğŸ‡¬ğŸ‡§ UnitedKingdom = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=è‹±å›½|UK|United\s*Kingdom|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|åˆ©å…¹|ä¼¯æ˜ç¿°|çˆ±ä¸å ¡|æ ¼æ‹‰æ–¯å“¥
ğŸ‡°ğŸ‡· Korea = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=éŸ©å›½|KR|Korea|é¦–å°”|é‡œå±±
ğŸ‡·ğŸ‡º Russia = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=ä¿„ç½—æ–¯|RU|Russia|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|æ–°è¥¿ä¼¯åˆ©äºš|å–€å±±
ğŸ‡®ğŸ‡³ India = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=å°åº¦|IN|India|å­Ÿä¹°|æ–°å¾·é‡Œ|ç­åŠ ç½—å°”|æµ·å¾—æ‹‰å·´
ğŸ‡©ğŸ‡ª Germany = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=å¾·å›½|DE|Germany|æŸæ—|æ…•å°¼é»‘|æ³•å…°å…‹ç¦|æ±‰å ¡|ç§‘éš†
ğŸ‡¨ğŸ‡¦ Canada = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=åŠ æ‹¿å¤§|CA|Canada|å¤šä¼¦å¤š|æ¸©å“¥å|è’™ç‰¹åˆ©å°”|æ¸¥å¤ªå|å¡å°”åŠ é‡Œ
ğŸ‡¹ğŸ‡· Turkey = url-test, url=http://www.gstatic.com/generate_204, interval=600, tolerance=120, timeout=5, policy-regex-filter=åœŸè€³å…¶|TR|Turkey

# Direct group
ğŸŒ Global-Direct = select, DIRECT

[Rule]
# 0) Basic direct
DOMAIN-SUFFIX,local,DIRECT
DOMAIN-SUFFIX,localhost,DIRECT

# 1) Ad/Privacy (highest priority)
RULE-SET,https://whatshub.top/rule/AntiAD.list,ğŸ›‘ Ad-Block
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AdGuardDNS/AdGuardDNS.list,ğŸ›‘ Ad-Block
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AdAway/AdAway.list,ğŸ›‘ Ad-Block

# 2) China direct (incl. domestic media)
DOMAIN-KEYWORD,binance,DIRECT
RULE-SET,https://whatshub.top/rule/AliPay.list,DIRECT
RULE-SET,https://whatshub.top/rule/Alibaba.list,DIRECT
RULE-SET,https://whatshub.top/rule/IPs-CN.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/XiaoHongShu/XiaoHongShu.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Binance/Binance.list,DIRECT
RULE-SET,https://whatshub.top/rule/WeChat.list,ğŸŒ Global-Direct
# Domestic media/video
RULE-SET,https://whatshub.top/rule/ChinaMedia.list,China-Media
RULE-SET,https://whatshub.top/rule/Douyu.list,China-Media
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/iQIYI/iQIYI.list,China-Media
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Youku/Youku.list,China-Media
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TencentVideo/TencentVideo.list,China-Media
RULE-SET,https://whatshub.top/rule/ASN-CN.list,ğŸŒ Global-Direct

# 3) Cloud drives (direct by default)
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/BaiduNetdisk/BaiduNetdisk.list,Cloud-Drive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Quark/Quark.list,Cloud-Drive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AliyunDrive/AliyunDrive.list,Cloud-Drive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Xunlei/Xunlei.list,Cloud-Drive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/115/115.list,Cloud-Drive

# 4) Gaming
DOMAIN-KEYWORD,steam,Game
DOMAIN-KEYWORD,epic,Game
DOMAIN-KEYWORD,origin,Game
DOMAIN-KEYWORD,uplay,Game
DOMAIN-KEYWORD,battle,Game

# 5) Study/Work
DOMAIN-KEYWORD,coursera,ğŸš€ Strategy-Select
DOMAIN-KEYWORD,udemy,ğŸš€ Strategy-Select
DOMAIN-KEYWORD,edx,ğŸš€ Strategy-Select
DOMAIN-KEYWORD,notion,ğŸš€ Strategy-Select
DOMAIN-KEYWORD,slack,ğŸš€ Strategy-Select
DOMAIN-KEYWORD,zoom,ğŸš€ Strategy-Select

# 6) AI services
DOMAIN-KEYWORD,chatgpt,AI
DOMAIN-KEYWORD,claude,AI
DOMAIN-KEYWORD,gemini,AI
DOMAIN-KEYWORD,perplexity,AI
DOMAIN-KEYWORD,openai,AI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/OpenAI/OpenAI.list,AI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Gemini/Gemini.list,AI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Anthropic/Anthropic.list,AI

# 7) Media (foreign platform groups restored)
DOMAIN-KEYWORD,youtube,YouTube
RULE-SET,https://whatshub.top/rule/YouTube.list,YouTube
RULE-SET,https://whatshub.top/rule/YouTubeMusic.list,YouTube
RULE-SET,https://whatshub.top/rule/Netflix.list,Netflix
RULE-SET,https://whatshub.top/rule/Disney.list,DisneyPlus
RULE-SET,https://whatshub.top/rule/Spotify.list,Spotify
RULE-SET,https://whatshub.top/rule/Twitch.list,Foreign-Media
RULE-SET,https://whatshub.top/rule/BiliBili.list,China-Media
RULE-SET,https://whatshub.top/rule/ProxyMedia.list,Foreign-Media
DOMAIN-SUFFIX,api.bilibili.com,China-Media

# 8) Social
RULE-SET,https://whatshub.top/rule/Telegram.list,Telegram
RULE-SET,https://whatshub.top/rule/Weibo.list,Weibo
DOMAIN-KEYWORD,weibo,Weibo
RULE-SET,https://whatshub.top/rule/Twitter.list,Twitter
RULE-SET,https://whatshub.top/rule/Facebook.list,Facebook
RULE-SET,https://whatshub.top/rule/Reddit.list,Reddit
RULE-SET,https://whatshub.top/rule/Discord.list,Discord

# 9) Others (dev/pay/enterprise)
# (Google ç³»æ”¾åˆ°â€œGoogleâ€ç»„ï¼Œä¾¿äºç‹¬ç«‹åˆ‡æ¢ï¼›å…¶ä½™ä¿æŒä¸å˜)
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GitHub/GitHub.list,ğŸ‡­ğŸ‡° HongKong
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Copilot/Copilot.list,ğŸ‡ºğŸ‡¸ UnitedStates
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GoogleVoice/GoogleVoice.list,ğŸ‡ºğŸ‡¸ UnitedStates
RULE-SET,https://whatshub.top/rule/Microsoft.list,Microsoft
RULE-SET,https://whatshub.top/rule/Apple.list,Apple
RULE-SET,https://whatshub.top/rule/AppStore.list,Apple
RULE-SET,https://whatshub.top/rule/AppleProxy.list,ğŸš€ Strategy-Select
RULE-SET,https://whatshub.top/rule/PayPal.list,PayPal
RULE-SET,https://whatshub.top/rule/Proxy.list,ğŸš€ Strategy-Select

# 10) Fallback
GEOIP,CN,ğŸŒ Global-Direct
FINAL,ğŸš€ Strategy-Select

[URL Rewrite]
^https?://(www\.)?g\.cn https://www.google.com 302
^https?://(www\.)?google\.cn https://www.google.com 302
^https?://(www\.)?google\.com\.hk https://www.google.com 302
^https?://(www\.)?youtube\.com/redirect https://www.youtube.com 302
^https?://(www\.)?youtu\.be/(.*) https://www.youtube.com/watch?v=$2 302

[MITM]
hostname = 
enable = false
